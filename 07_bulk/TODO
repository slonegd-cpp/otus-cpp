(+-) Тестов не достаточно.
Тесты на граничные значения, например, “пустая строка”,
“самая большая строка”.
Тесты на исключительные ситуации, например, “слишком большая строка”,
“обрыв данных на середине строки”,
“команда начинающаяся с символа начала блока”,
“файл существует и переписать его нельзя”.

Ответ:
Добавил тесты. Поправил и проверил мейн перед отправкой.



b. (-) Проверяйте передаваемые значения
root@slonegd:/# bulk 33423235435345345452523452345435
stoi
root@slonegd:/# bulk 33423235435345345452523452345435a
stoi
root@slonegd:/# bulk a
stoi
c. (--) Не используйте голые указатели:
std::vector<Exporter *> subs;
d. (-) Сущность “буфер” - это скорее часть “парсера”.
Время жизни “буфера” полностью лежит во времени жизни “парсера”.
А у вас получается, что “буфер”, с одной стороны, это отдельная сущность,
а с другой стороны, “парсер” рассчитывает, что “буфер” будет существовать
всё его время, при этом никак это не контролируя (используются простые ссылки!)
Перейдите к более жесткой связи!
e. (!) Связи между компонентами лучше оформлять в виде интерфейсов.
f. (!) Тест big_string_command, говорит что можно любую строку обработать!
Т.е. ограничений нет. В реальных система ограничения есть.
Важно закладывать эти ограничения в свой функционал.
g. (!) Не используйте подчеркивания в начале и конце имен: export_

Ответ:
b. Теперь проверяю.
c. Заменил голые указатели на shared_ptr (weak_ptr внутри парсера).
d. Сделал buffer приватным полем в Parser.
e. Почти все связи пропали в новой реализации, где bufer - поле Parser.
f. Добавил ограничение максимального размера команды в виде параметра констуктора
со значением по умолчанию. Добавил тест на превышение размера команды.
g. Больше подчеркивания не использую.



(!) Тест only_for_read_file. Помните, что в реальной системе молчаливая
обработка исключительных ситуаций недопустима.
Как минимум должна быть запись в лог со статусом warning (а лучше error)
(!) Лучше использовать константную ссылку:
https://github.com/slonegd/bulk-otus07-/blob/master/parser.h#L70
Если со временем добавится условие, по которому ничего не нужно делать,
то и копия не будет создаваться за зря.
(!) Не увидел теста на argException
(!) Функция create_shared, на мой вкус, должна быть мембером. Но и этому не против.